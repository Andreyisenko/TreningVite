{"version":3,"file":"gallery-CPojMDmc.js","sources":["../../src/js/next-skript.js","../../src/js/gallery.js"],"sourcesContent":["export  function onLoadMore(page) {\n  page += 1\n  // console.log(page);\n  \n}\nconsole.log(89);","import axios from 'axios';\nimport * as next from './next-skript';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n  captionPosition: 'top',\n});\nconst Gall = document.querySelector('.gallery');\n// console.log(Gall);\nconst btn = document.querySelector('.button-sab');\n// console.log(btn);\nconst forMM = document.querySelector('.forM');\n// console.log(forMM);\nconst btnLoad = document.querySelector('.load-more');\n// console.log(btnLoad);\nbtnLoad.addEventListener('click', next.onLoadMore);\nforMM.addEventListener('submit', handleSubmit);\n\nconst Url = 'https://public-api.nazk.gov.ua/v2/documents/';\nconst API_KEY = '210f5cfe-d5e9-4af8-8b6c-226b2eba6819';\nlet page = 1;\nlet qData;\nconst arrey = []\nfunction handleSubmit(event) {\n  event.preventDefault();\n  console.log(event.currentTarget.elements.infO.value);\n  qData = event.currentTarget.elements.infO.value;\n  // createMarkup(qData)\n  getInfo(qData);\n  Gall.innerHTML = '';\n}\n\nasync function getInfo(qData) {\n  const tot = await axios\n    .get(`https://public-api.nazk.gov.ua/v2/documents/list?query=${qData}&declaration_year=2023`, {\n      params: {\n        query: `${qData}`,\n        page,\n        per_page: 15,\n        // image_type: 'photo',\n      },\n    })\n\n    .then(responce => {\n      console.log(responce.data.data);\n\n      Gall.insertAdjacentHTML('afterbegin', createMarkup(responce.data.data));\n    })\n    .catch(error => console.log(error));\n  lightbox.refresh();\n}\nconsole.log(getInfo(qData));\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        declaration_year,\n        date,\n        id,\n        declaration_type,\n        user_declarant_id,\n\n        // webformatURL,\n        // largeImageURL,\n        // tags,\n        // likes,\n        // views,\n        // comments,\n        // downloads,\n      }) => `<li data-id=\"${id}\" class=\"gallery-item\">\n      <p>Декларація за ${declaration_year} рік</p>\n      <p>Дата подання декларації ${date} </p>\n      <p>Тип декларації ${declaration_type} </p>\n      <p>id ${user_declarant_id} </p>\n              <a href=${declaration_year} class=\"gallery-link\">\n              <img src=${declaration_year} class=\"gallery-image\" alt=${declaration_year}> \n              <div class=\"wrap\"><h2 class=\"title-like\">Likes <span class=\"span-text\"> ${declaration_year} </span></h2>\n               <h2 class=\"title-views\">Views <span class=\"span-text\"> ${declaration_year} </span></h2>\n               <h2 class=\"title-comments\">Comments <span class=\"span-text\">${declaration_year}</span> </h2>\n               <h2 class=\"title-downloads\">Downloads <span class=\"span-text\">${declaration_year} </span></h2></div>\n  </a>\n              </li>`\n    )\n    .join('');\n}\n\n// getInfo(qData)\n// try {resp => console.log(resp);\n\n// } catch (error) {\n\n// }\n"],"names":["onLoadMore","page","lightbox","SimpleLightbox","Gall","forMM","btnLoad","next.onLoadMore","handleSubmit","qData","event","getInfo","axios","responce","createMarkup","error","arr","declaration_year","date","id","declaration_type","user_declarant_id"],"mappings":"gDAAQ,SAASA,EAAWC,EAAM,CAIlC,CACA,QAAQ,IAAI,EAAE,ECCd,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,IACd,aAAc,MACd,gBAAiB,KACnB,CAAC,EACKC,EAAO,SAAS,cAAc,UAAU,EAElC,SAAS,cAAc,aAAa,EAEhD,MAAMC,EAAQ,SAAS,cAAc,OAAO,EAEtCC,EAAU,SAAS,cAAc,YAAY,EAEnDA,EAAQ,iBAAiB,QAASC,CAAe,EACjDF,EAAM,iBAAiB,SAAUG,CAAY,EAI7C,IAAIP,EAAO,EACPQ,EAEJ,SAASD,EAAaE,EAAO,CAC3BA,EAAM,eAAc,EACpB,QAAQ,IAAIA,EAAM,cAAc,SAAS,KAAK,KAAK,EACnDD,EAAQC,EAAM,cAAc,SAAS,KAAK,MAE1CC,EAAQF,CAAK,EACbL,EAAK,UAAY,EACnB,CAEA,eAAeO,EAAQF,EAAO,CAChB,MAAMG,EACf,IAAI,0DAA0DH,CAAK,yBAA0B,CAC5F,OAAQ,CACN,MAAO,GAAGA,CAAK,GACf,KAAAR,EACA,SAAU,EAEX,CACP,CAAK,EAEA,KAAKY,GAAY,CAChB,QAAQ,IAAIA,EAAS,KAAK,IAAI,EAE9BT,EAAK,mBAAmB,aAAcU,EAAaD,EAAS,KAAK,IAAI,CAAC,CAC5E,CAAK,EACA,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACpCb,EAAS,QAAO,CAClB,CACA,QAAQ,IAAIS,EAAQF,CAAK,CAAC,EAE1B,SAASK,EAAaE,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CACC,iBAAAC,EACA,KAAAC,EACA,GAAAC,EACA,iBAAAC,EACA,kBAAAC,CASR,IAAY,gBAAgBF,CAAE;AAAA,yBACLF,CAAgB;AAAA,mCACNC,CAAI;AAAA,0BACbE,CAAgB;AAAA,cAC5BC,CAAiB;AAAA,wBACPJ,CAAgB;AAAA,yBACfA,CAAgB,8BAA8BA,CAAgB;AAAA,wFACCA,CAAgB;AAAA,wEAChCA,CAAgB;AAAA,6EACXA,CAAgB;AAAA,+EACdA,CAAgB;AAAA;AAAA,oBAG1F,EACA,KAAK,EAAE,CACZ"}