{"version":3,"file":"team-CvZdJMsF.js","sources":["../../src/js/team.js"],"sourcesContent":["// import * as next from './next-skript';\nimport axios from 'axios';\n// import uuid from 'uuid';\n// import  uuid from 'uuid';\n// console.log(next.listArr);\n\n// import { createMarku, createMarkup } from './next-skript';\n// console.log(createMarkup);\n\nconst Gall = document.querySelector('.gallery');\nconst btn = document.querySelector('.button-sab');\nconst forMM = document.querySelector('.forM');\nconst btnLoad = document.querySelector('.load-more');\nconst item = document.querySelector('.gallery');\n\nconst Url = 'https://public-api.nazk.gov.ua/v2/documents/';\nlet API_KEY;\nlet page = 1;\nlet  qData;\n\n// export let arreE;\nexport let namE;\nconst total = [];\nconst totStr = JSON.stringify(total);\n\nconst arre = [\n  'Бочарова Ольга Станіславівна',\n  'Винокуров Станіслав Володимирович',\n  'Адіян Карен Артурович',\n  'Косс Олена Юріївна',\n  'Ісенко Андрій Володимирович',\n  'Філіпов Владислав Володимирович',\n];\n\nforMM.addEventListener('submit', handleSubmit);\nfunction handleSubmit(event) {\n  event.preventDefault();\n  \n  function makeRequestWithDelay(delay = 1000) {\n    const fetchUsers = async () => {\n      for (const arreE of arre) {\n        console.log(arreE);\n        namE = arreE;\n        \n        try {\n          // console.log(`Processing: ${arreE}`);\n          \n          const response = await axios.get(\n            `https://public-api.nazk.gov.ua/v2/documents/list/`,\n            {\n              params: {\n                API_KEY,\n                // user_declarant_id: 236750,\n                query: arreE,\n                declaration_year: 2023,\n              },\n            }\n          );\n          console.log(response);\n          console.log(response.data);\n          console.log(response.data.data);\n          Gall.insertAdjacentHTML('beforeend', createMarkup(response.data.data));\n          \n          console.log(`Response for ${arreE}:`, response.data);\n        } catch (error) {\n          console.error(`Error fetching data for ${arreE}:`, error);\n          await new Promise(resolve => setTimeout(resolve, delay));\n        }\n      }\n      \n    };\n    fetchUsers();\n  }\n  makeRequestWithDelay(1000);\n}\n\n\n\n function  createMarkup(arreE) {\n  return arreE\n    .map(\n      ({\n        user_declarant_id,\n        declaration_year,\n        id,\n        date,\n\n\n        data: {\n          step_0: {\n            data: { declaration_type, declaration_period},\n          },\n          step_1: {\n            data: { city, workPlace, workPost },\n          },\n        },\n        \n\n        end_date,\n        start_date,\n      }) => `<li class=\"gallery-item\">\n      <h1 class=\"title-views\">Декларант ${namE}</h1>\n      <h2 class=\"title-views\">Декларація за ${declaration_year}</h2>\n      <p class=\"title-comments\">Дата подання декларації ${date}</p>\n      <p class=\"title-comments\">Тип декларації ${declaration_type}</p>\n      <p class=\"title-comments\">період декларування:  ${declaration_period}</p>\n      <p class=\"title-comments\">id ${user_declarant_id}</p>\n      <h2 class=\"title-views\">Місце роботи: ${workPlace}</h2>\n      <h2 class=\"title-views\">Посада: ${workPost}</h2>\n      <p class=\"title-views\">Посилання id: ${id}</p>\n      <hr></hr>\n      </li>`\n    )\n    .join('');\n}"],"names":["Gall","forMM","API_KEY","namE","total","arre","handleSubmit","event","makeRequestWithDelay","delay","arreE","response","axios","createMarkup","error","resolve","user_declarant_id","declaration_year","id","date","declaration_type","declaration_period","city","workPlace","workPost","end_date","start_date"],"mappings":"+uBASA,MAAMA,EAAO,SAAS,cAAc,UAAU,EAClC,SAAS,cAAc,aAAa,EAChD,MAAMC,EAAQ,SAAS,cAAc,OAAO,EAC5B,SAAS,cAAc,YAAY,EACtC,SAAS,cAAc,UAAU,EAG9C,IAAIC,EAKOC,EACX,MAAMC,EAAQ,CAAA,EACC,KAAK,UAAUA,CAAK,EAEnC,MAAMC,EAAO,CACX,+BACA,oCACA,wBACA,qBACA,8BACA,iCACF,EAEAJ,EAAM,iBAAiB,SAAUK,CAAY,EAC7C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,SAASC,EAAqBC,EAAQ,IAAM,EACvB,SAAY,CAC7B,UAAWC,KAASL,EAAM,CACxB,QAAQ,IAAIK,CAAK,EACjBP,EAAOO,EAEP,GAAI,CAGF,MAAMC,EAAW,MAAMC,EAAM,IAC3B,oDACA,CACE,OAAQ,CACN,QAAAV,EAEA,MAAOQ,EACP,iBAAkB,IACnB,CACF,CACb,EACU,QAAQ,IAAIC,CAAQ,EACpB,QAAQ,IAAIA,EAAS,IAAI,EACzB,QAAQ,IAAIA,EAAS,KAAK,IAAI,EAC9BX,EAAK,mBAAmB,YAAaa,EAAaF,EAAS,KAAK,IAAI,CAAC,EAErE,QAAQ,IAAI,gBAAgBD,CAAK,IAAKC,EAAS,IAAI,CACpD,OAAQG,EAAO,CACd,QAAQ,MAAM,2BAA2BJ,CAAK,IAAKI,CAAK,EACxD,MAAM,IAAI,QAAQC,GAAW,WAAWA,EAASN,CAAK,CAAC,CACxD,CACF,CAEP,IAEG,CACDD,EAAqB,GAAI,CAC3B,CAIC,SAAUK,EAAaH,EAAO,CAC7B,OAAOA,EACJ,IACC,CAAC,CACC,kBAAAM,EACA,iBAAAC,EACA,GAAAC,EACA,KAAAC,EAGA,KAAM,CACJ,OAAQ,CACN,KAAM,CAAE,iBAAAC,EAAkB,mBAAAC,CAAkB,CAC7C,EACD,OAAQ,CACN,KAAM,CAAE,KAAAC,EAAM,UAAAC,EAAW,SAAAC,CAAU,CACpC,CACF,EAGD,SAAAC,EACA,WAAAC,CACR,IAAY;AAAA,0CAC8BvB,CAAI;AAAA,8CACAc,CAAgB;AAAA,0DACJE,CAAI;AAAA,iDACbC,CAAgB;AAAA,wDACTC,CAAkB;AAAA,qCACrCL,CAAiB;AAAA,8CACRO,CAAS;AAAA,wCACfC,CAAQ;AAAA,6CACHN,CAAE;AAAA;AAAA,YAG1C,EACA,KAAK,EAAE,CACZ"}