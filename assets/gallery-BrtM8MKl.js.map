{"version":3,"file":"gallery-BrtM8MKl.js","sources":["../../src/js/gallery.js"],"sourcesContent":["console.log('Gallery');\nimport axios from 'axios';\nconst Gall = document.querySelector('.gallery');\n// console.log(Gall);\nconst btn = document.querySelector('.button-sab');\n// console.log(btn);\nconst forMM = document.querySelector('.forM');\n// console.log(forMM);\nconst btnLoad = document.querySelector('.load-more');\n// console.log(btnLoad);\n\nconst Url = 'https://pixabay.com/api/';\nconst API_KEY = '47413156-c8c9abea8f6d88937b7892740';\nlet page = 1;\nlet qData;\nbtnLoad.addEventListener('click', onLoadMore);\nforMM.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  console.log(event.currentTarget.elements.infO.value);\n  qData = event.currentTarget.elements.infO.value;\n  // createMarkup(qData)\n  getInfo(qData);\n  Gall.innerHTML = '';\n}\n\nasync function getInfo(qData) {\n  const tot = await axios\n    .get(`${Url}?key=${API_KEY}`, {\n      params: {\n        q: `${qData}`,\n        page,\n        per_page: 15,\n        image_type: 'photo',\n      },\n    })\n\n    .then(responce =>\n      Gall.insertAdjacentHTML('afterbegin', createMarkup(responce.data.hits))\n    )\n    .catch(error => console.log(error));\n}\n// console.log(getInfo(qData));\n\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        id,\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li data-id=\"${id}\" class=\"gallery-item\">\n              <a href=${largeImageURL} class=\"gallery-link\">\n              <img src=${webformatURL} class=\"gallery-image\" alt=${tags}> \n              <div class=\"wrap\"><h2 class=\"title-like\">Likes <span class=\"span-text\"> ${likes} </span></h2>\n               <h2 class=\"title-views\">Views <span class=\"span-text\"> ${views} </span></h2>\n               <h2 class=\"title-comments\">Comments <span class=\"span-text\">${comments}</span> </h2>\n               <h2 class=\"title-downloads\">Downloads <span class=\"span-text\">${downloads} </span></h2></div>\n  </a>\n              </li>`\n    )\n    .join('');\n}\n\nfunction onLoadMore(params) {\n  page += 1\nconsole.log(page);\n \n}\n\n// getInfo(qData)\n// try {resp => console.log(resp);\n\n    \n// } catch (error) {\n    \n// }"],"names":["Gall","forMM","btnLoad","Url","API_KEY","page","qData","onLoadMore","handleSubmit","event","getInfo","axios","responce","createMarkup","error","arr","id","webformatURL","largeImageURL","tags","likes","views","comments","downloads","params"],"mappings":"yCAAA,QAAQ,IAAI,SAAS,EAErB,MAAMA,EAAO,SAAS,cAAc,UAAU,EAElC,SAAS,cAAc,aAAa,EAEhD,MAAMC,EAAQ,SAAS,cAAc,OAAO,EAEtCC,EAAU,SAAS,cAAc,YAAY,EAG7CC,EAAM,2BACNC,EAAU,qCAChB,IAAIC,EAAO,EACPC,EACJJ,EAAQ,iBAAiB,QAASK,CAAU,EAC5CN,EAAM,iBAAiB,SAAUO,CAAY,EAE7C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,QAAQ,IAAIA,EAAM,cAAc,SAAS,KAAK,KAAK,EACnDH,EAAQG,EAAM,cAAc,SAAS,KAAK,MAE1CC,EAAQJ,CAAK,EACbN,EAAK,UAAY,EACnB,CAEA,eAAeU,EAAQJ,EAAO,CAChB,MAAMK,EACf,IAAI,GAAGR,CAAG,QAAQC,CAAO,GAAI,CAC5B,OAAQ,CACN,EAAG,GAAGE,CAAK,GACX,KAAAD,EACA,SAAU,GACV,WAAY,OACb,CACP,CAAK,EAEA,KAAKO,GACJZ,EAAK,mBAAmB,aAAca,EAAaD,EAAS,KAAK,IAAI,CAAC,CACvE,EACA,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAIA,SAASD,EAAaE,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CACC,GAAAC,EACA,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY,gBAAgBP,CAAE;AAAA,wBACNE,CAAa;AAAA,yBACZD,CAAY,8BAA8BE,CAAI;AAAA,wFACiBC,CAAK;AAAA,wEACrBC,CAAK;AAAA,6EACAC,CAAQ;AAAA,+EACNC,CAAS;AAAA;AAAA,oBAGnF,EACA,KAAK,EAAE,CACZ,CAEA,SAAShB,EAAWiB,EAAQ,CAC1BnB,GAAQ,EACV,QAAQ,IAAIA,CAAI,CAEhB"}